<div class="ajustes-container">
  <div class="ajustes-header">
    <h1>âš™ï¸ Ajustes del Negocio</h1>
    <p class="subtitle">Configura la informaciÃ³n general de tu tienda</p>
  </div>

  @if (loading()) {
    <div class="loading-state">
      <p>Cargando configuraciÃ³n...</p>
    </div>
  } @else if (error()) {
    <div class="error-state">
      <p>{{ error() }}</p>
      <button (click)="cargarConfiguracion()" class="btn-retry">
        Reintentar
      </button>
    </div>
  } @else {
    <div class="ajustes-content">
      <div class="config-form">

        <!-- Nombre del Negocio -->
        <div class="form-group">
          <label for="nombre_negocio">
            <span class="label-icon">ğŸª</span>
            Nombre del Negocio
          </label>
          <input
            type="text"
            id="nombre_negocio"
            [value]="configuracion().nombre_negocio"
            (input)="actualizarCampo('nombre_negocio', $any($event.target).value)"
            placeholder="Ej: Sublisa"
            required
          />
          <small class="help-text">Este nombre aparecerÃ¡ en tu tienda y comunicaciones</small>
        </div>

        <!-- Email de Contacto -->
        <div class="form-group">
          <label for="email_contacto">
            <span class="label-icon">ğŸ“§</span>
            Email de Contacto
          </label>
          <input
            type="email"
            id="email_contacto"
            [value]="configuracion().email_contacto"
            (input)="actualizarCampo('email_contacto', $any($event.target).value)"
            placeholder="contacto@tunegocio.com"
            required
          />
          <small class="help-text">Email visible en el footer y para notificaciones</small>
        </div>

        <!-- WhatsApp Vendedor -->
        <div class="form-group">
          <label for="whatsapp_vendedor">
            <span class="label-icon">ğŸ“±</span>
            WhatsApp del Vendedor
          </label>
          <input
            type="tel"
            id="whatsapp_vendedor"
            [value]="configuracion().whatsapp_vendedor"
            (input)="actualizarCampo('whatsapp_vendedor', $any($event.target).value)"
            placeholder="+5491138824544"
            required
          />
          <small class="help-text">Incluye cÃ³digo de paÃ­s (ej: +54911XXXXXXXX)</small>
        </div>

        <!-- Mensaje de Bienvenida -->
        <div class="form-group">
          <label for="mensaje_bienvenida">
            <span class="label-icon">ğŸ’¬</span>
            Mensaje de Bienvenida
          </label>
          <textarea
            id="mensaje_bienvenida"
            [value]="configuracion().mensaje_bienvenida"
            (input)="actualizarCampo('mensaje_bienvenida', $any($event.target).value)"
            placeholder="Â¡Bienvenido a Sublisa! Tu tienda de productos de sublimaciÃ³n"
            rows="4"
          ></textarea>
          <small class="help-text">Mensaje que se enviarÃ¡ automÃ¡ticamente por WhatsApp a nuevos clientes</small>
        </div>

        <!-- DirecciÃ³n -->
        <div class="form-group">
          <label for="direccion">
            <span class="label-icon">ğŸ“</span>
            DirecciÃ³n
          </label>
          <input
            type="text"
            id="direccion"
            [value]="configuracion().direccion"
            (input)="actualizarCampo('direccion', $any($event.target).value)"
            placeholder="Calle Balboa 6741"
            required
          />
          <small class="help-text">DirecciÃ³n completa de tu negocio</small>
        </div>

        <!-- Localidad -->
        <div class="form-group">
          <label for="localidad">
            <span class="label-icon">ğŸ›ï¸</span>
            Localidad
          </label>
          <input
            type="text"
            id="localidad"
            [value]="configuracion().localidad"
            (input)="actualizarCampo('localidad', $any($event.target).value)"
            placeholder="GonzÃ¡lez CatÃ¡n"
            required
          />
          <small class="help-text">Ciudad o localidad donde estÃ¡ ubicado tu negocio</small>
        </div>

        <!-- Provincia -->
        <div class="form-group">
          <label for="provincia">
            <span class="label-icon">ğŸ—ºï¸</span>
            Provincia
          </label>
          <input
            type="text"
            id="provincia"
            [value]="configuracion().provincia"
            (input)="actualizarCampo('provincia', $any($event.target).value)"
            placeholder="Buenos Aires"
            required
          />
          <small class="help-text">Provincia o estado</small>
        </div>

        <!-- Botones de AcciÃ³n -->
        <div class="form-actions">
          <button
            type="button"
            class="btn-guardar"
            [disabled]="guardando()"
            (click)="guardarConfiguracion()"
          >
            @if (guardando()) {
              <span class="spinner"></span>
              Guardando...
            } @else {
              ğŸ’¾ Guardar Cambios
            }
          </button>
        </div>

      </div>

      <!-- Panel de InformaciÃ³n -->
      <div class="info-panel">
        <h3>â„¹ï¸ InformaciÃ³n Importante</h3>
        <ul>
          <li>
            <strong>Nombre del Negocio:</strong> Se muestra en el tÃ­tulo de la pÃ¡gina y emails
          </li>
          <li>
            <strong>Email de Contacto:</strong> Aparece en el footer y se usa para notificaciones
          </li>
          <li>
            <strong>WhatsApp:</strong> Los clientes pueden contactarte directamente desde la tienda
          </li>
          <li>
            <strong>Mensaje de Bienvenida:</strong> Se incluye automÃ¡ticamente al enviar pedidos por WhatsApp
          </li>
          <li>
            <strong>UbicaciÃ³n:</strong> Se muestra en el footer y en las pÃ¡ginas de informaciÃ³n
          </li>
        </ul>
      </div>
    </div>
  }
</div>
